_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{NuBo:function(e,t,r){"use strict";r.r(t),r.d(t,"GoodsList",(function(){return C})),r.d(t,"PendingOrder",(function(){return E})),r.d(t,"default",(function(){return R}));var n=r("nKUr"),o=r("rePB"),c=r("KQm4"),i=r("2/Rp"),a=r("wCAj"),s=r("kLXV"),u=r("5rEg"),j=r("BMrR"),d=r("kPKH"),b=r("LvDl"),O=r.n(b),f=r("nOHt"),l=r("q1tI"),p=r("/MKj"),m=r("zqcQ"),y=r("Re8R"),h=r("Kk9b"),g=r("RFev"),x=r("Tfof"),F=r("PSyV"),v=r("Rr3P"),D=r("xxh2"),w=r("Vt73"),k=r("0WD7"),P=r("7Tky");function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=e.isBuyer2,r=void 0!==t&&t,o=Object(y.a)(),j=(o.demoData,o.updateDemoData),d=Object(l.useState)(!1),b=d[0],p=d[1],h=Object(l.useState)(0),x=h[0],F=h[1],v=Object(l.useState)(null),D=v[0],w=v[1],k=(Object(f.useRouter)(),[].concat(Object(c.a)(m.c),[{render:function(e){return Object(n.jsx)(i.a,{onClick:function(){r||(w(e),F(O.a.toNumber(O.a.get(e,"price",0))),p(!0))},children:"Send intent"})}}])),P=x>=O.a.toNumber(O.a.get(D,"price",0));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(a.a,{columns:k,dataSource:m.f,pagination:!1}),Object(n.jsx)(s.a,{visible:b,title:"Intention price",onCancel:function(){p(!1),F(0)},okType:P?"primary":"default",onOk:function(){P&&(j({orderForm:_(_({},D),{},{intentionAmount:x,status:1}),orderForm2:void 0}),p(!1),F(0),Object(g.b)())},children:Object(n.jsx)(u.a,{type:"number",value:x,onChange:function(e){return F(O.a.toNumber(e.target.value))},required:!0})})]})}function S(){var e=Object(y.a)(),t=e.demoData,r=e.updateDemoData,o=t.orderForm2,c=Object(l.useState)(1),i=c[0],a=c[1],s=function(e,t,n){var c=null!==n&&void 0!==n?n:O.a.get(o,"status",0);r({orderForm2:_(_(_({},o),e),{},{status:c})}),a(t)};return Object(n.jsxs)(n.Fragment,{children:[1===i&&Object(n.jsx)(x.a,{orderForm:o,onFinish:function(e){return s(e,3)}}),3===i&&Object(n.jsx)(F.a,{orderForm:o,onFinish:function(e){return s(e,4)}}),4===i&&Object(n.jsx)(v.a,{orderForm:o,onFinish:function(e){return s(e,4,3)}})]})}function N(){var e=Object(y.a)(),t=e.demoData,r=e.updateDemoData,o=t.orderForm2,c=O.a.get(o,"status",0),a=Object(l.useState)(5),s=a[0],u=a[1];return Object(n.jsxs)(n.Fragment,{children:[5===s&&Object(n.jsx)(D.a,{orderForm:o,onFinish:function(){u(6)}}),6===s&&Object(n.jsx)(w.a,{orderForm:o,onFinish:function(e){r({orderForm2:_(_({},o),{},{status:6},e)}),u(7)}}),8===c&&Object(n.jsx)(j.a,{justify:"center",children:Object(n.jsx)(i.a,{style:{marginTop:15},type:"primary",children:"Deliver goods",onClick:function(){return r({orderForm2:_(_({},o),{},{status:9})})}})})]})}function E(e){var t,r=e.isBuyer2,c=void 0!==r&&r,a=Object(y.a)(),u=a.demoData,b=a.updateDemoData,f=c?"orderForm2":"orderForm",l=null!==(t=u[f])&&void 0!==t?t:{},p=O.a.get(l,"status",0);if(0===p)return null;O.a.get(l,"isTurn");var h=u.orderForm2,x=O.a.get(h,"status",2),F=function(e){b(Object(o.a)({},f,_(_({},l),{},{status:e}))),Object(g.b)()};return Object(n.jsxs)(d.a,{style:{padding:10},children:[Object(n.jsx)(P.b,{orderForm:l,children:Object(n.jsxs)(j.a,{justify:"center",gutter:10,style:{padding:"10px 0"},children:[3===p&&Object(n.jsx)(i.a,{type:"primary",children:"Determine and pay security deposit",onClick:function(){return F(4)}}),6===p&&Object(n.jsx)(i.a,{type:"primary",children:"Determine and pay service fee",onClick:function(){return F(7)}}),9===p&&!c&&!h&&Object(n.jsx)(i.a,{type:"primary",children:"Transfer order",onClick:function(){s.a.confirm({title:"Tips",content:"A 3% fee will be charged for the transfer",maskClosable:!0,onOk:function(){b({orderForm2:_(_({},m.g),{},{status:2,isTurn:!0})}),Object(g.b)()}})}}),9===p&&(c||88===x||!h)&&Object(n.jsx)(i.a,{type:"primary",style:{marginLeft:10},children:"Confirm receipt",onClick:function(){return F(10)}})]})}),h&&!c&&Object(n.jsxs)("div",{style:{width:"100%",padding:10},children:[Object(n.jsx)("span",{style:{fontWeight:600,fontSize:16},children:"Transfer oreders:"}),Object(n.jsx)(P.b,{orderForm:h}),2===x&&Object(n.jsx)(S,{}),x>=5&&Object(n.jsx)(N,{})]})]})}function R(){var e=Object(p.c)(h.a);return Object(n.jsxs)(k.a,{children:["goods"===e&&Object(n.jsx)(C,{}),"orders"===e&&Object(n.jsx)(E,{})]})}},dnrT:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/buyer",function(){return r("NuBo")}])}},[["dnrT",2,1,3,8,6,7,0,4,5,9,10]]]);